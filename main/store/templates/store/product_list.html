<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
</head>
<body>
    {% if user.is_authenticated %}
        <p>Добро пожаловать, <a href="{% url 'profile' %}">{{ user.username }}</a>!</p>

    <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit">Выйти</button>
    </form>

    {% else %}
        <p>Добро пожаловать, гость!</p>
    <a  href="{% url 'signin' %}"><button>Логин</button></a>
    <a  href="{% url 'signup' %}"><button>Регистрация</button></a>

    {% endif %}


<h1>Products</h1>

<form method="GET" action="">
    <select name="category">
        <option value="">All Categories</option>
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>
    <select name="color">
        <option value="">All Colors</option>
        {% for color in colors %}
            <option value="{{ color.id }}">{{ color.name }}</option>
        {% endfor %}
    </select>
    <select name="size">
        <option value="">All Sizes</option>
        {% for size in sizes %}
            <option value="{{ size.id }}">{{ size.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Filter</button>
</form>

<ul>
    {% for product in products %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}">
        <li><a href="{% url 'product_detail' product.pk %}">{{ product.name }}</a></li>
        <form action="{% url 'add_to_favorites' product.id %}" method="post">
            {% csrf_token %}
            <button type="submit">Добавить в избранное</button>
        </form>
        <form action="{% url 'add_to_cart' product.id %}" method="post">
            {% csrf_token %}
            <button type="submit">Добавить в корзину</button>
        </form>
    {% empty %}
        <li>No products available.</li>
    {% endfor %}
</ul>

</body>
</html>